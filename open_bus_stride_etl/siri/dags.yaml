- name: stride-etl-siri-add-ride-durations
  schedule_interval: "@hourly"
  description: |
    add siri ride durations
  tasks:
    - id: siri-add-ride-durations
      config:
        type: cli
        module: open_bus_stride_etl.siri.cli
        function: add_ride_durations

- name: stride-etl-siri-update-ride-stops-gtfs
  schedule_interval: "@hourly"
  description: |
    update siri ride-stops with gtfs data
  tasks:
    - id: siri-update-ride-stops-gtfs
      depends_on:
        - siri-add-ride-durations
      config:
        type: cli
        module: open_bus_stride_etl.siri.cli
        function: update_ride_stops_gtfs
        kwargs:
          min_date: {}
          max_date: {}
          num_days: {default: "1"}

- name: stride-etl-siri-update-ride-stops-vehicle-locations
  schedule_interval: "@hourly"
  description: |
    update siri ride-stops and vehicle locations
  tasks:
    - id: siri-update-ride-stops-vehicle-locations
      depends_on:
        - siri-update-ride-stops-gtfs
      config:
        type: cli
        module: open_bus_stride_etl.siri.cli
        function: update_ride_stops_vehicle_locations
        kwargs:
          min_date: {}
          max_date: {}
          num_days: {default: "1"}

- name: stride-etl-siri-update-rides-gtfs
  schedule_interval: "@hourly"
  description: |
    Update siri_ride with related gtfs_ride
  tasks:
    - id: siri-update-rides-gtfs
      config:
        type: cli
        module: open_bus_stride_etl.siri.cli
        function: update-rides-gtfs
        kwargs:
          min_date: {}
          max_date: {}
          num_days: {default: "1"}
